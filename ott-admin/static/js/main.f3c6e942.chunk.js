(this["webpackJsonpfront-end-admin"]=this["webpackJsonpfront-end-admin"]||[]).push([[0],{144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},148:function(e,t,n){},157:function(e,t,n){},240:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(46),r=n.n(s),o=(n(144),n(145),n(19)),l=n(20),h=n(15),c=n(28),d=n(27),u=(n(146),n(1)),p=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(u.jsx)("header",{className:"Header",children:Object(u.jsx)("div",{children:Object(u.jsx)("div",{children:Object(u.jsxs)("h1",{children:[Object(u.jsx)("span",{className:"Left",children:"Admin "})," ",Object(u.jsx)("span",{className:"Right",children:"Panel"})]})})})})}}]),n}(i.a.Component),b=(n(148),function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"Footer",children:Object(u.jsx)("p",{children:"Ottonova Test - Maia Viera Ca\xf1ive - Copyright - 2021 -"})})}}]),n}(i.a.Component)),j=n(52),v=n(30),O=n.n(v),m=n(47),g=function e(){Object(o.a)(this,e),this.name=void 0,this.name_native=void 0,this.country=void 0,this.continent=void 0,this.latitude=void 0,this.longitude=void 0,this.population=void 0,this.founded=void 0,this.landmarks=void 0},f=n(313),y=n(317),k=n(316),C=n(312),x=n(314),A=n(315),w=n(310),S=n(311),P=n(295),B=n(120),D=n.n(B),N=n(121),F=n.n(N),I=n(306),M=n(319),K=n(322),_=n(320),H=n(321),R=n(294);function Q(e){return Object(u.jsx)("div",{children:Object(u.jsxs)(M.a,{open:e.open,onClose:e.handleClose,children:[Object(u.jsx)(R.a,{children:"Confirm Delete"}),Object(u.jsx)(_.a,{children:Object(u.jsxs)(H.a,{children:["Are you sure you really want to delete data of: ",Object(u.jsx)("strong",{children:e.row?e.row.name:""}),"?"]})}),Object(u.jsxs)(K.a,{children:[Object(u.jsx)(I.a,{onClick:e.handleClose,children:"Cancel"}),Object(u.jsx)(I.a,{color:"warning",onClick:e.handleDelete,children:"Delete"})]})]})})}var E=n(304),W=n(302),L="http://maiatest.domain.com:3002",T=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,null,[{key:"getCities",value:function(){return fetch("".concat(L,"/dscity"))}},{key:"delCities",value:function(){var e=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"/dscity/")+t,{method:"DELETE"});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"newCity",value:function(){var e=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"/dscity"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updCity",value:function(){var e=Object(m.a)(O.a.mark((function e(t,n){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"/dscity/").concat(t),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),X=n(298),q=n(318),J=i.a.forwardRef((function(e,t){return Object(u.jsx)(W.a,Object(j.a)({elevation:6,ref:t,variant:"filled"},e))})),U=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).row=void 0,a.rowIndex=void 0,a.state={cities:[],openDialog:!1,openSnackBar:!1,page:0,rowsPerPage:10},a.loadCities=a.loadCities.bind(Object(h.a)(a)),a.handleClickOpen=a.handleClickOpen.bind(Object(h.a)(a)),a.handleClose=a.handleClose.bind(Object(h.a)(a)),a.handleCloseSB=a.handleCloseSB.bind(Object(h.a)(a)),a.handleDelRow=a.handleDelRow.bind(Object(h.a)(a)),a.handleAPIDelete=a.handleAPIDelete.bind(Object(h.a)(a)),a.handleChangePage=a.handleChangePage.bind(Object(h.a)(a)),a.handleChangeRowsPerPage=a.handleChangeRowsPerPage.bind(Object(h.a)(a)),a}return Object(l.a)(n,[{key:"handleClickOpen",value:function(e,t){this.setState({openDialog:!0}),this.row=e,this.rowIndex=t}},{key:"handleShowResultAlert",value:function(e,t){this.setState({openSnackBar:!0}),this.setState({severity:e}),this.setState({msg:t})}},{key:"handleClose",value:function(){this.setState({openDialog:!1})}},{key:"handleCloseSB",value:function(){this.setState({openSnackBar:!1})}},{key:"handleDelRow",value:function(){var e=this.state.cities.slice(0,this.rowIndex),t=this.state.cities.slice(this.rowIndex+1),n=[];switch(this.rowIndex){case 0:n=t;break;case this.state.cities.length-1:n=e;break;default:n=e.concat(t)}this.setState({cities:n})}},{key:"handleAPIDelete",value:function(){var e=Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.delCities(this.row.name);case 3:t=e.sent,this.handleDelRow(),this.handleShowResultAlert("success",t.message),this.handleClose(),console.log(t),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),this.handleClose(),this.handleShowResultAlert("error","City could not be deleted");case 15:case 16:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadCities",value:function(e){var t=[];e.forEach((function(e){t.push(e)})),this.setState({cities:t})}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{children:[Object(u.jsx)(P.a,{spacing:2,alignContent:"left",direction:"row",children:Object(u.jsx)(I.a,{style:{margin:5},variant:"contained",onClick:function(){return e.props.showForm(new g)},children:"New City"})}),Object(u.jsx)(C.a,{component:w.a,children:Object(u.jsxs)(f.a,{sx:{minWidth:650},size:"small","aria-label":"city list",children:[Object(u.jsx)(x.a,{children:Object(u.jsxs)(A.a,{children:[Object(u.jsx)(k.a,{align:"left",children:"Action"}),Object(u.jsx)(k.a,{children:"Name"}),Object(u.jsx)(k.a,{align:"right",children:"Native Name"}),Object(u.jsx)(k.a,{align:"right",children:"Country"}),Object(u.jsx)(k.a,{align:"right",children:"Continent"}),Object(u.jsx)(k.a,{align:"right",children:"Population"})]})}),Object(u.jsx)(y.a,{children:(this.state.rowsPerPage>0?this.state.cities.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage):this.state.cities).map((function(t,n){return Object(u.jsxs)(A.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(u.jsx)(k.a,{align:"left",children:Object(u.jsxs)(P.a,{alignContent:"right",direction:"row",spacing:1,children:[Object(u.jsx)(S.a,{onClick:function(){return e.handleClickOpen(t,n)},color:"primary","aria-label":"delete",children:Object(u.jsx)(D.a,{})}),Object(u.jsx)(S.a,{color:"primary","aria-label":"edit",onClick:function(){return e.props.showForm(t)},children:Object(u.jsx)(F.a,{})})]})}),Object(u.jsx)(k.a,{component:"th",scope:"row",children:t.name}),Object(u.jsx)(k.a,{align:"right",children:t.name_native}),Object(u.jsx)(k.a,{align:"right",children:t.country}),Object(u.jsx)(k.a,{align:"right",children:t.continent}),Object(u.jsx)(k.a,{align:"right",children:t.population})]},n)}))}),Object(u.jsx)(q.a,{children:Object(u.jsx)(A.a,{children:Object(u.jsx)(X.a,{rowsPerPageOptions:[10,50,{label:"All",value:-1}],colSpan:3,count:this.state.cities.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:this.handleChangePage,onRowsPerPageChange:this.handleChangeRowsPerPage})})})]})}),Object(u.jsx)(Q,{open:this.state.openDialog,handleClose:this.handleClose,handleDelete:this.handleAPIDelete,row:this.row}),Object(u.jsx)(P.a,{spacing:2,sx:{width:"100%"},children:Object(u.jsx)(E.a,{open:this.state.openSnackBar,autoHideDuration:4e3,onClose:this.handleCloseSB,children:Object(u.jsx)(J,{onClose:this.handleCloseSB,severity:this.state.severity,sx:{width:"100%"},children:this.state.msg})})})]})}},{key:"handleChangePage",value:function(e,t){this.setState({page:t})}},{key:"handleChangeRowsPerPage",value:function(e){this.setState({rowsPerPage:parseInt(e.target.value,10)}),this.setState({page:0})}},{key:"componentDidMount",value:function(){var e=this;T.getCities().then((function(e){return e.json()})).then((function(t){return e.loadCities(t)}))}}]),n}(i.a.Component),z=n(300),Y=(n(157),n(158),n(43)),Z=n(122),G=n(123),V="data:image/png;base64,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",$=n(4),ee=n(307),te=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).key=void 0;var i=e.data.map((function(e,t){return{key:t,label:e}}));return a.state={chipData:i,error:!1,helper:""},a.key=i.length,a.handleOnKeyPress=a.handleOnKeyPress.bind(Object(h.a)(a)),a.handleDelete=a.handleDelete.bind(Object(h.a)(a)),a.handleOnFocusLost=a.handleOnFocusLost.bind(Object(h.a)(a)),a}return Object(l.a)(n,[{key:"handleDelete",value:function(e){var t=this.state.chipData.filter((function(t){return t.key!==e.key}));this.props.setLandmarks(t.map((function(e){return e.label}))),this.setState({chipData:t}),0==t.length&&this.setState({error:!0,helper:"Landmark list cannot be empty"})}},{key:"handleOnKeyPress",value:function(e){if(13===e.charCode){var t=e.target.value.trim();if(!t)return;e.target.value="";var n=this.state.chipData;n.push({key:this.key++,label:t}),this.props.setLandmarks(n.map((function(e){return e.label}))),this.setState({chipData:n}),this.setState({error:!1,helper:""})}}},{key:"handleOnFocusLost",value:function(){0==this.state.chipData.length&&this.setState({error:!0,helper:"Landmark list cannot be empty"})}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"LandmarksContainer",children:[Object(u.jsx)("div",{onBlur:this.handleOnFocusLost,children:Object(u.jsx)(z.a,{fullWidth:!0,id:"name",required:!0,margin:"normal",label:"Landmarks",error:this.state.error,helperText:this.state.helper,onKeyPress:this.handleOnKeyPress})}),Object(u.jsx)("div",{children:Object(u.jsx)(ae,{data:this.state.chipData,funDel:this.handleDelete})})]})}}]),n}(a.Component),ne=Object($.a)("li")((function(e){return{margin:e.theme.spacing(.5)}})),ae=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(u.jsx)(w.a,{sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",p:.5,m:0},component:"ul",children:this.props.data.map((function(t){return Object(u.jsx)(ne,{children:Object(u.jsx)(ee.a,{label:t.label,onDelete:function(){return e.props.funDel(t)}})},t.key)}))})}}]),n}(a.Component),ie=n(159),se=i.a.forwardRef((function(e,t){return Object(u.jsx)(W.a,Object(j.a)({elevation:6,ref:t,variant:"filled"},e))})),re=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).map=void 0,a.marker=void 0,a.lat_value=void 0,a.lng_value=void 0,a.landmarks=void 0,a.name_helper="",a.nativename_helper="",a.country_helper="",a.continent_helper="",a.population_helper="",a.year_helper="",a.update="",a.valid=0,a.state={obj:e.obj,snackBarMsg:"Please, review the form. Ensure you have filled all required fields. Location on the map is also required."},a.lng_value=e.obj.longitude,a.lat_value=e.obj.latitude,e.obj.name&&(a.valid=63,a.update=e.obj.name),e.obj.landmarks?a.landmarks=e.obj.landmarks:a.landmarks=[],a.check=a.check.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleOnFocusLost=a.handleOnFocusLost.bind(Object(h.a)(a)),a.handleOnSubmit=a.handleOnSubmit.bind(Object(h.a)(a)),a.handleOnKeyPress=a.handleOnKeyPress.bind(Object(h.a)(a)),a.handleCloseSB=a.handleCloseSB.bind(Object(h.a)(a)),a.loadMap=a.loadMap.bind(Object(h.a)(a)),a.addMarker=a.addMarker.bind(Object(h.a)(a)),a.setLandmarks=a.setLandmarks.bind(Object(h.a)(a)),a}return Object(l.a)(n,[{key:"setLandmarks",value:function(e){this.landmarks=e}},{key:"check",value:function(e,t){switch(t){case"name":this.state.obj.name=e,e?(this.setState({name_err:!1}),this.name_helper=""):(this.setState({name_err:!0}),this.name_helper="Field name cannot be empty"),this.valid=1^this.valid?e?1|this.valid:254&this.valid:this.valid;break;case"nativename":this.state.obj.name_native=e,e?(this.setState({nativename_err:!1}),this.nativename_helper=""):(this.setState({nativename_err:!0}),this.nativename_helper="Field name cannot be empty"),this.valid=2^this.valid?e?2|this.valid:253&this.valid:this.valid;break;case"country":this.state.obj.country=e,e?(this.setState({country_err:!1}),this.country_helper=""):(this.setState({country_err:!0}),this.country_helper="Field name cannot be empty"),this.valid=4^this.valid?e?4|this.valid:251&this.valid:this.valid;break;case"continent":this.state.obj.continent=e,e?(this.setState({continent_err:!1}),this.continent_helper=""):(this.setState({continent_err:!0}),this.continent_helper="Field name cannot be empty"),this.valid=8^this.valid?e?8|this.valid:247&this.valid:this.valid;break;case"population":e?(this.setState({population_err:!1}),this.population_helper=""):(this.setState({population_err:!0}),this.population_helper="Field name cannot be empty\n"),this.valid=16^this.valid?e?16|this.valid:239&this.valid:this.valid,ie.isInt(e)?(this.setState({population_err:!1}),this.state.obj.population=parseInt(e),this.population_helper+=""):(this.setState({population_err:!0}),this.population_helper+="Field must be an integer"),this.valid=16^this.valid?ie.isInt(e)?16|this.valid:239&this.valid:this.valid;break;case"year":e?(this.setState({year_err:!1}),this.year_helper=""):(this.setState({year_err:!0}),this.year_helper="Field name cannot be empty\n"),this.valid=32^this.valid?ie.isInt(e)?32|this.valid:223&this.valid:this.valid,ie.isInt(e)?(this.setState({year_err:!1}),this.year_helper+="",this.state.obj.founded=parseInt(e)):(this.setState({year_err:!0}),this.year_helper+="Field must be an integer"),this.valid=32^this.valid?ie.isInt(e)?32|this.valid:223&this.valid:this.valid}}},{key:"handleOnSubmit",value:function(){var e=Object(m.a)(O.a.mark((function e(t){var n,a,i,s,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(63===(255&this.valid)&&this.lat_value&&this.lng_value&&0!=this.landmarks.length){e.next=3;break}return this.setState({openSnackBar:!0}),e.abrupt("return");case 3:if((n=this.state.obj).latitude=this.lat_value,n.longitude=this.lng_value,n.landmarks=this.landmarks,e.prev=7,!this.update){e.next=15;break}return e.next=11,T.updCity(this.update,n);case 11:!(a=e.sent).status||a.error?(i=a.message.join(". "),this.setState({openSnackBar:!0,snackBarMsg:i})):this.props.showHome("".concat(a.message)),e.next=19;break;case 15:return e.next=17,T.newCity(n);case 17:!(s=e.sent).status||s.error?(r=s.message.join(". "),this.setState({openSnackBar:!0,snackBarMsg:r})):this.props.showHome("".concat(s.message));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(7),console.log(e.t0),this.setState({openSnackBar:!0});case 25:case"end":return e.stop()}}),e,this,[[7,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseSB",value:function(){this.setState({openSnackBar:!1})}},{key:"handleOnKeyPress",value:function(e){13===e.charCode&&this.handleOnSubmit(e)}},{key:"handleChange",value:function(e){var t=e.target.value,n=e.target.id;this.check(t,n)}},{key:"handleOnFocusLost",value:function(e){var t=e.target.value,n=e.target.id;this.check(t,n)}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"FormContainer",children:[Object(u.jsx)(P.a,{className:"ButtonCls",spacing:2,alignContent:"left",direction:"row",children:Object(u.jsx)(I.a,{variant:"text",onClick:function(){return e.props.showHome("")},children:"Home"})}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"FirstColumn",children:[Object(u.jsx)("div",{onBlur:this.handleOnFocusLost,children:Object(u.jsx)(z.a,{fullWidth:!0,id:"name",margin:"normal",required:!0,label:"Name",error:this.state.name_err,value:this.state.obj.name,helperText:this.name_helper,onChange:this.handleChange,onKeyPress:this.handleOnKeyPress})}),Object(u.jsx)("div",{onBlur:this.handleOnFocusLost,children:Object(u.jsx)(z.a,{fullWidth:!0,id:"nativename",margin:"normal",required:!0,label:"Native Name",error:this.state.nativename_err,value:this.state.obj.name_native,helperText:this.nativename_helper,onChange:this.handleChange,onKeyPress:this.handleOnKeyPress})}),Object(u.jsx)("div",{onBlur:this.handleOnFocusLost,children:Object(u.jsx)(z.a,{fullWidth:!0,id:"country",margin:"normal",required:!0,label:"Country",error:this.state.country_err,value:this.state.obj.country,helperText:this.country_helper,onChange:this.handleChange,onKeyPress:this.handleOnKeyPress})}),Object(u.jsx)("div",{onBlur:this.handleOnFocusLost,children:Object(u.jsx)(z.a,{fullWidth:!0,id:"continent",margin:"normal",required:!0,label:"Continent",error:this.state.continent_err,value:this.state.obj.continent,helperText:this.continent_helper,onChange:this.handleChange,onKeyPress:this.handleOnKeyPress})}),Object(u.jsx)("div",{onBlur:this.handleOnFocusLost,children:Object(u.jsx)(z.a,{fullWidth:!0,id:"population",margin:"normal",required:!0,label:"Population",error:this.state.population_err,value:this.state.obj.population,helperText:this.population_helper,onChange:this.handleChange,onKeyPress:this.handleOnKeyPress})}),Object(u.jsx)("div",{onBlur:this.handleOnFocusLost,children:Object(u.jsx)(z.a,{fullWidth:!0,id:"year",margin:"normal",required:!0,label:"Foundation Year",error:this.state.year_err,value:this.state.obj.founded,helperText:this.year_helper,onChange:this.handleChange,onKeyPress:this.handleOnKeyPress})}),Object(u.jsx)("div",{children:Object(u.jsx)(te,{data:this.landmarks,setLandmarks:this.setLandmarks})})]}),Object(u.jsxs)("div",{className:"SecondColumn",children:[Object(u.jsx)("p",{children:"Click on the map to select the city"}),Object(u.jsx)("div",{id:"map"})]})]}),Object(u.jsxs)(P.a,{className:"ButtonCls",spacing:2,alignContent:"left",direction:"row-reverse",children:[Object(u.jsx)(I.a,{variant:"text",onClick:function(){return e.props.showHome("")},children:"Home"}),Object(u.jsx)(I.a,{disabled:this.state.disabled,style:{margin:5},variant:"contained",onClick:this.handleOnSubmit,children:"Submit"})]}),Object(u.jsx)(P.a,{spacing:2,sx:{width:"100%"},children:Object(u.jsx)(E.a,{open:this.state.openSnackBar,autoHideDuration:4e3,onClose:this.handleCloseSB,children:Object(u.jsx)(se,{onClose:this.handleCloseSB,severity:"error",sx:{width:"100%"},children:this.state.snackBarMsg})})})]})}},{key:"componentDidMount",value:function(){this.loadMap()}},{key:"loadMap",value:function(){var e=this;this.map=Y.map("map").setView([0,0],2),Y.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map);var t=Y.icon({iconUrl:Z.a,shadowUrl:G.a});if(Y.Marker.prototype.options.icon=t,this.map.on("click",(function(t){return e.addMarker(t.latlng)})),this.lat_value&&this.lng_value){var n=Y.icon({iconUrl:V,iconSize:[15,15],popupAnchor:[0,-7],className:"MapMarker"});this.marker=Y.marker([this.lat_value,this.lng_value],{icon:n}),this.map.addLayer(this.marker),this.map.flyTo([this.lat_value,this.lng_value],2)}}},{key:"addMarker",value:function(e){this.marker&&this.map.removeLayer(this.marker);var t=Y.icon({iconUrl:V,iconSize:[15,15],popupAnchor:[0,-7],className:"MapMarker"});this.marker=Y.marker(e,{icon:t}),this.map.addLayer(this.marker),this.lat_value=e.lat,this.lng_value=e.lng,this.marker.bindPopup("[".concat(e.lat,", ").concat(e.lng,"]")).openPopup()}}]),n}(i.a.Component),oe=i.a.forwardRef((function(e,t){return Object(u.jsx)(W.a,Object(j.a)({elevation:6,ref:t,variant:"filled"},e))})),le=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).city=void 0,a.formmsg=void 0,a.state={content:"home"},a.showForm=a.showForm.bind(Object(h.a)(a)),a.showHome=a.showHome.bind(Object(h.a)(a)),a.handleCloseSB=a.handleCloseSB.bind(Object(h.a)(a)),a}return Object(l.a)(n,[{key:"showForm",value:function(e){this.setState({content:"new"}),this.city=e}},{key:"showHome",value:function(e){this.setState({content:"home"}),e&&(this.setState({formmsg:e}),this.setState({openSnackBar:!0}))}},{key:"handleCloseSB",value:function(){this.setState({openSnackBar:!1})}},{key:"render",value:function(){var e=null;switch(this.state.content){case"home":e=Object(u.jsx)(U,{showForm:this.showForm});break;case"new":e=Object(u.jsx)(re,{obj:this.city,showHome:this.showHome})}return Object(u.jsxs)("div",{className:"Content",children:[e,Object(u.jsx)(P.a,{spacing:2,sx:{width:"100%"},children:Object(u.jsx)(E.a,{open:this.state.openSnackBar,autoHideDuration:4e3,onClose:this.handleCloseSB,children:Object(u.jsx)(oe,{onClose:this.handleCloseSB,severity:"success",sx:{width:"100%"},children:this.state.formmsg})})})]})}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}}]),n}(i.a.Component),he=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fresh=void 0,a.responseMsg=void 0,a.state={content_id:"home"},a.fresh=!0,a.responseMsg="",a.funOnChangeContent=a.funOnChangeContent.bind(Object(h.a)(a)),a.funShowResponse=a.funShowResponse.bind(Object(h.a)(a)),a}return Object(l.a)(n,[{key:"funShowResponse",value:function(e){this.responseMsg=e,this.setState({content_id:"response"})}},{key:"funOnChangeContent",value:function(e){e!=this.state.content_id&&this.setState({content_id:e})}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(p,{}),Object(u.jsx)(le,{content_id:this.state.content_id}),Object(u.jsx)(b,{})]})}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.content_id!=t.content_id&&(document.documentElement.scrollTop=0),!0}},{key:"componentDidMount",value:function(){this.fresh=!1}}]),n}(i.a.Component);var ce=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(he,{})})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,325)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),s(e),r(e)}))};r.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(ce,{})}),document.getElementById("root")),de()}},[[240,1,2]]]);
//# sourceMappingURL=main.f3c6e942.chunk.js.map